<!DOCTYPE html>
<html>

<head>
	<title>Fibonacci sequence</title>
</head>

<body>
	<p>
		&nbsp&nbsp&nbsp In the 1202 AD, Leonardo Fibonacci wrote in his book “Liber Abaci” of a simple numerical sequence that is the foundation for an incredible mathematical relationship behind phi.  This sequence was known as early as the 6th century AD by Indian mathematicians, but it was Fibonacci who introduced it to the west after his travels throughout the Mediterranean world and North Africa. He is also known as Leonardo Bonacci, as his name is derived in Italian from words meaning “son of (the) Bonacci”.

		Starting with 0 and 1, each new number in the sequence is simply the sum of the two before it.
		
		0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144,  233, 377 . . .
		
		This sequence is shown in the right margin of a page in Liber Abaci, where a copy of the book is held by the Biblioteca Nazionale di Firenze. Click to enlarge.

	</p>
	<br>
	<br>
	<img width="100%" height="300px" src="fibonacci_diagram.svg" alt="Fibonacci Image">
	<br>
	<br>
	<br>

	<center>
		<input style="width: 120px; height: 30px;" type="text" name="input" id="usr_input" placeholder="Enter positive number">
		<button style="width: 100px; height: 30px;" onclick="compute()">Compute</button>
	</center>
	<br>
	<center>
		<div id="display_result">
		</div>
	</center>

	<script type="text/javascript">
		//string variable to build the table
		var str_table = "";

		function compute() {
			var user_input = document.getElementById("usr_input").value;
			//user_input = parseInt(user_input);
			//check for valid input
			if (isNaN(user_input)) {
				console.log("User Input: " + user_input);
				str_table = "Invalid Input";
				document.getElementById("display_result").innerHTML = str_table;
				return;
			}

			//check for decimal inputs
			if ((user_input - Math.floor(user_input)) !== 0){
				str_table = "Cannot compute Fib of a decimal value.";
				document.getElementById("display_result").innerHTML = str_table;
				return;
			}

			//check for valid input
			if (user_input < 0) {
				str_table = "Cannot compute Fib of a negative integer";
				document.getElementById("display_result").innerHTML = str_table;
				return;
			}
			//console.log(user_input);
			//var result = fib(user_input);
			// document.getElementById("display_result").innerHTML = result;
			fib(user_input);

			//set the div's content
			document.getElementById("display_result").innerHTML = str_table;
		}

		//funtion to compute fibonacci sequence
		function fib(n) {
			str_table = "<table border='2' ><tr><td width='50' align='center'>n</td><td>fib(n)</td></tr>";
			var f0 = 0;
			var f1 = 1;
			var counter = 0;

			if (n < 1) {
				str_table = str_table + "<tr><td>" + counter + "</td><td>" + f0 + "</td></tr>";
				return 0;
			}
			//compute fibonacci sequence if input is greater than 0
			for (var i = 0; i <= n; i++) {
				str_table = str_table + "<tr><td>" + counter + "</td><td>" + f0 + "</td></tr>";
				counter += 1;
				var successor = f0 + f1;
				f0 = f1;
				f1 = successor;
			}
			str_table = str_table + "</table>";
			//return f0;
		}
	</script>
</body>

</html>